import randomimport stringfrom datetime import datetime, timezonefrom src.utilities import messagesfrom src.data import dbdef check_site_limit(website_allowed, websites):    if website_allowed == len(websites):        raise ValueError(f'Your plan can only allow {website_allowed} site(s)')def check_user_subscription(email):    user_subscription = db['subscriptions'].get(email)    if not user_subscription:        return KeyError(messages['no_sub'])    check_valid_subcription(user_subscription)    return user_subscriptiondef check_valid_subcription(subscription):    if (datetime.now(timezone.utc) > subscription.get_sub_expiry_date):        raise ValueError(messages['sub_expired'])def generate_uuid(stringLength=6):    """Generate a random string of letters and digits """    lettersAndDigits = string.ascii_letters + string.digits    return ''.join(random.choice(lettersAndDigits) for i in range(stringLength))